<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="CHRONOS 时间感知 - 一个关于时间膨胀、量子隧穿与记忆碎片的无限沉浸式视听装置">
    <meta property="og:title" content="时间感知 | Chronos Immersive Experience">
    <meta property="og:description" content="你有多久没有认真思考过「时间」了？">
    <title>时间感知 | Chronos Immersive Experience</title>
    <!-- 全局样式与变量引入 -->
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts 引入高对比度、极具设计感的现代与古典混合字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Noto+Serif+SC:wght@200;300;400;600;900&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
</head>

<body class="loading">
    <!-- 1. SVG 滤镜库 (Gooey, 噪点畸变等) 用于后续 DOM 元素的特效 -->
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1"
        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
            <filter id="goo" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur in="SourceGraphic" stdDeviation="15" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 25 -10"
                    result="goo" />
                <feComposite in="SourceGraphic" in2="goo" operator="atop" />
            </filter>
            <filter id="glitch">
                <feTurbulence type="fractalNoise" baseFrequency="0.05 0.9" numOctaves="3" result="noise" />
                <feDisplacementMap in="SourceGraphic" in2="noise" scale="20" xChannelSelector="R"
                    yChannelSelector="G" />
            </filter>
            <filter id="noise-overlay">
                <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch" />
                <feColorMatrix type="matrix" values="1 0 0 0 0, 0 1 0 0 0, 0 0 1 0 0, 0 0 0 0.1 0" />
            </filter>
        </defs>
    </svg>

    <!-- 全屏转场遮罩 -->
    <div class="scene-transition-mask" id="transition-mask">
        <div class="mask-left"></div>
        <div class="mask-right"></div>
    </div>

    <!-- 全局UI：速度反馈 HUD -->
    <div class="velocity-hud" id="velocity-hud">
        <div class="velocity-bar"></div>
        <span class="velocity-label space-mono">MOMENTUM</span>
    </div>

    <!-- 全局UI：场景标号指示器 -->
    <div class="scene-indicator" id="scene-indicator">
        <span class="current-scene">01</span>
        <span class="scene-divider">/</span>
        <span class="total-scenes">11</span>
    </div>

    <!-- 2. 全屏原生 WebGL 容器用于着色器渲染 -->
    <div id="webgl-container">
        <canvas id="time-canvas"></canvas>
    </div>

    <!-- 3. 自定义鼠标追踪器 -->
    <div class="cursor-dot"></div>
    <div class="cursor-ring"></div>

    <!-- 4. 页面加载与降临层 -->
    <div id="loader" class="loader-overlay">
        <div class="loader-content">
            <h1 class="loader-title char-split" data-splitting>CHRONOS</h1>
            <div class="loader-progress-container">
                <div class="loader-progress-bar"></div>
            </div>
            <p class="loader-text">建立突触连接... <span id="loading-pct">0</span>%</p>
            <div class="headphones-hint">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M3 18v-6a9 9 0 0 1 18 0v6M21 15v4a2 2 0 0 1-2 2h-1v-6h3zM3 15v4a2 2 0 0 0 2 2h1v-6H3z" />
                </svg>
                <span>请佩戴耳机以获取最佳的沉浸感知</span>
            </div>
            <button id="enter-btn" class="enter-btn disabled">
                <span class="btn-text">接入意识</span>
                <span class="btn-ripple"></span>
            </button>
        </div>
    </div>

    <!-- 5. 全局导航与 HUD 遮罩 -->
    <nav class="hud-nav">
        <div class="hud-left">
            <span class="logo">T-PERCEPTION</span>
            <span class="coordinates">LAT 40.7128° N, LONG 74.0060° W</span>
        </div>
        <div class="hud-right">
            <div class="audio-toggle" id="audio-toggle">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
            <span class="time-display" id="global-clock">00:00:00:000</span>
        </div>
    </nav>
    <div class="hud-progress-frame">
        <div class="progress-fill" id="scroll-progress"></div>
    </div>

    <!-- 5.5 Aesthetic Framing & Decorative HUD -->
    <div class="corner-bracket corner-tl"></div>
    <div class="corner-bracket corner-tr"></div>
    <div class="corner-bracket corner-bl"></div>
    <div class="corner-bracket corner-br"></div>

    <div class="quantum-flux-hud">
        <div class="flux-row">
            <span class="flux-label">FLUX</span>
            <span class="flux-value" id="flux-val-1">0.000</span>
        </div>
        <div class="flux-row">
            <span class="flux-label">ENTROPY</span>
            <span class="flux-value" id="flux-val-2">0.000</span>
        </div>
    </div>

    <!-- 6. 平滑滚动代理容器 (Smooth Scroll Wrapper) -->
    <div id="smooth-wrapper">
        <div id="smooth-content">

            <!-- ====== 场景 01：引言 (The Conception) ====== -->
            <section class="scene scene-01-intro" id="scene-intro" data-scene-id="1">
                <div class="layer-back parallax" data-speed="0.8">
                    <div class="abstract-shape shape-1"></div>
                </div>
                <!-- 漂浮汉字特效 -->
                <div class="floating-kanji" aria-hidden="true">
                    <span>秒</span><span>分</span><span>时</span><span>岁</span>
                    <span>轮回</span><span>须臾</span><span>刹那</span><span>永恒</span>
                </div>
                <div class="container container-center">
                    <div class="title-wrapper">
                        <h1 class="hero-title fw-900 split-chars">时间是<br><span
                                class="italic-serif text-hollow">流动的</span>幻觉</h1>
                    </div>
                    <div class="paragraph-wrapper mt-4">
                        <p class="hero-desc fw-300 split-lines mask-up">
                            物理学告诉我们，过去、现在与未来并无本质区别。<br>
                            秒针的跳动，仅仅是熵增在人类视网膜上的投影。<br>
                            在这里，滑动鼠标，你就是时间的主宰。
                        </p>
                    </div>
                    <div class="scroll-down-hint">
                        <div class="mouse-icon">
                            <div class="wheel"></div>
                        </div>
                        <span class="space-mono text-xs tracking-widest uppercase">Initiate Scroll</span>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 02：时间的膨胀 (Time Dilation) ====== -->
            <section class="scene scene-02-dilation" id="scene-dilation" data-scene-id="2">
                <div class="container layout-split">
                    <div class="left-col parallax" data-speed="1.1">
                        <h2 class="section-heading fw-200">
                            <span class="small-label">CHAPTER I</span><br>
                            相对论与<br><span class="fw-700 text-glow">膨胀效应</span>
                        </h2>
                    </div>
                    <div class="right-col parallax" data-speed="0.95">
                        <p class="body-text text-lg split-words">
                            当物体以接近光速运动，或者处于极强的引力场中时，它所经历的时间相对于静止或远离引力场的观察者来说，流逝得更慢。
                        </p>
                        <br>
                        <p class="body-text split-words">
                            这就是爱因斯坦狭义相对论预言的“时间膨胀”。当你在这条滚动的长廊里加速下滑，周围的颗粒与文字也会因你的“速度”而发生形变。你滑得越快，世界就被拉得越长。试着猛烈地滑动一次屏幕。
                        </p>
                        <div class="interactive-stretch-box mt-5">
                            <div class="stretch-target" id="stretch-element-1">DILATION</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 02.5：时间沙漏 (Hourglass Paradox) ====== -->
            <section class="scene scene-02-5-hourglass" id="scene-hourglass" data-scene-id="3">
                <div class="container container-center">
                    <div class="hourglass-visual parallax" data-speed="1.05">
                        <svg class="hourglass-svg" viewBox="0 0 200 400" id="hourglass-svg">
                            <path class="hourglass-frame"
                                d="M20,20 L180,20 C180,100 130,160 110,195 C110,195 105,200 100,200 C95,200 90,195 90,195 C70,160 20,100 20,20 Z M110,205 C130,240 180,300 180,380 L20,380 C20,300 70,240 90,205 C90,205 95,200 100,200 C105,200 110,205 110,205 Z"
                                fill="none" stroke="rgba(179,155,130,0.5)" stroke-width="2" />
                            <clipPath id="sand-top-clip">
                                <rect id="sand-top-rect" x="0" y="0" width="200" height="200" />
                            </clipPath>
                            <path class="sand-top" id="sand-top-path" clip-path="url(#sand-top-clip)"
                                fill="var(--color-sand-gold, #d4a857)"
                                d="M25,25 L175,25 C175,100 128,158 108,193 L92,193 C72,158 25,100 25,25 Z" />
                            <clipPath id="sand-bot-clip">
                                <rect id="sand-bot-rect" x="0" y="400" width="200" height="200" />
                            </clipPath>
                            <path class="sand-bottom" id="sand-bot-path" clip-path="url(#sand-bot-clip)"
                                fill="var(--color-sand-gold, #d4a857)"
                                d="M108,207 L92,207 C72,242 25,300 25,375 L175,375 C175,300 128,242 108,207 Z" />
                            <g class="sand-particles" id="sand-particles"></g>
                        </svg>
                    </div>
                    <div class="hourglass-text-panel pt-10 text-center">
                        <h2 class="section-heading fw-200 split-chars">沙漏悖论</h2>
                        <p class="body-text mt-3 split-words mx-auto max-w-800">
                            每一粒落下的沙都在问同一个问题——<br>
                            <span class="fw-700 text-glow">是沙在坠落，还是时间在逃离？</span><br>
                            滚动的行为，正是你干预时间的证据。
                        </p>
                        <div class="hourglass-counter space-mono mt-4 text-glow text-xl">
                            GRAINS FALLEN: <span id="grain-counter">0</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 03：记忆的碎片 (Fragments of Memory) ====== -->
            <section class="scene scene-03-fragments" id="scene-fragments" data-scene-id="4">
                <div class="layer-glass"></div>
                <div class="container">
                    <h2 class="section-heading text-center fw-600 spread-text split-chars">记忆斑驳</h2>
                    <div class="fragment-grid mt-6">
                        <div class="frag-item frag-1 parallax" data-speed="1.2">
                            <div class="frag-img-placeholder" style="background: linear-gradient(45deg, #111, #333);">
                            </div>
                            <p class="caption">「儿时的下雨天」<br><span class="space-mono">T-MINUS 7200 DAYS</span></p>
                        </div>
                        <div class="frag-item frag-4 parallax" data-speed="0.9">
                            <div class="frag-img-placeholder"
                                style="background: linear-gradient(135deg, #1a2a3a, #050510);"></div>
                            <p class="caption">「第一缕晨光」<br><span class="space-mono">T-MINUS 3600 DAYS</span></p>
                        </div>
                        <div class="frag-item frag-2 parallax" data-speed="0.8">
                            <div class="frag-img-placeholder"
                                style="background: linear-gradient(135deg, #2a2a2a, #050505);"></div>
                            <p class="caption">「燃烧的日落」<br><span class="space-mono">T-MINUS 1400 DAYS</span></p>
                        </div>
                        <div class="frag-item frag-5 parallax" data-speed="1.1">
                            <div class="frag-img-placeholder"
                                style="background: linear-gradient(225deg, #251010, #0a0a0a);"></div>
                            <p class="caption">「深夜的钟声」<br><span class="space-mono">T-MINUS 2 DAYS</span></p>
                        </div>
                        <div class="frag-item frag-3 parallax" data-speed="1.4">
                            <div class="frag-img-placeholder"
                                style="background: linear-gradient(225deg, #151515, #000);"></div>
                            <p class="caption">「此刻的你」<br><span class="space-mono">PRESENT NORMAL</span></p>
                        </div>
                    </div>
                    <div class="text-center mt-5">
                        <p class="body-text max-w-800 mx-auto fade-up">
                            海马体将时间切片，压缩成带有情绪标签的画面。<br>我们回忆的从来不是真实的时间，而是被主观意识篡改过无数次的残影。
                        </p>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 03.5：时间线 (The Timeline) ====== -->
            <section class="scene scene-03-5-timeline" id="scene-timeline" data-scene-id="5">
                <div class="timeline-track">
                    <div class="timeline-line"></div>
                    <div class="timeline-node" data-year="-13800000000" data-label="大爆炸">
                        <div class="node-dot"></div>
                        <div class="node-content">
                            <span class="node-year space-mono">-138亿年</span>
                            <h3 class="node-title">奇点 · 大爆炸</h3>
                            <p class="node-desc">所有的时间从这一刻开始。在此之前，"之前"这个概念本身不存在。</p>
                        </div>
                    </div>
                    <div class="timeline-node" data-year="-4500000000" data-label="地球">
                        <div class="node-dot"></div>
                        <div class="node-content">
                            <span class="node-year space-mono">-45亿年</span>
                            <h3 class="node-title">星尘 · 地球形成</h3>
                            <p class="node-desc">宇宙花了90亿年来制造一个可以让意识观察时间的容器。</p>
                        </div>
                    </div>
                    <div class="timeline-node" data-year="-200000" data-label="人类">
                        <div class="node-dot"></div>
                        <div class="node-content">
                            <span class="node-year space-mono">-20万年</span>
                            <h3 class="node-title">觉醒 · 智人出现</h3>
                            <p class="node-desc">第一个有能力感知"时间正在流逝"的物种诞生了。</p>
                        </div>
                    </div>
                    <div class="timeline-node" data-year="-5000" data-label="文明">
                        <div class="node-dot"></div>
                        <div class="node-content">
                            <span class="node-year space-mono">-5000年</span>
                            <h3 class="node-title">刻度 · 日晷与历法</h3>
                            <p class="node-desc">人类第一次试图用物理工具「量化」时间。控制的幻觉开始了。</p>
                        </div>
                    </div>
                    <div class="timeline-node" data-year="1905" data-label="相对论">
                        <div class="node-dot"></div>
                        <div class="node-content">
                            <span class="node-year space-mono">1905</span>
                            <h3 class="node-title">颠覆 · 狭义相对论</h3>
                            <p class="node-desc">爱因斯坦证明：时间不是恒流。速度可以弯曲它，质量可以拖拽它。</p>
                        </div>
                    </div>
                    <div class="timeline-node" data-year="NOW" data-label="此刻">
                        <div class="node-dot pulse-dot"></div>
                        <div class="node-content">
                            <span class="node-year space-mono" id="timeline-now-clock">NOW</span>
                            <h3 class="node-title">此刻 · 你</h3>
                            <p class="node-desc">138亿年的宇宙演化，只为让你在这里看到这行字。</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 04：视界线 (Event Horizon) ====== -->
            <section class="scene scene-04-horizon pinned-scene" id="scene-horizon" data-scene-id="6">
                <div class="pin-container" id="horizon-pin">
                    <div class="black-hole-visual">
                        <div class="accretion-disk"></div>
                        <div class="event-horizon"></div>
                        <!-- 吸积盘粒子占位，将通过JS注入 -->
                        <div class="bh-particles" id="bh-particles"></div>
                    </div>
                    <div class="horizon-content">
                        <h2 class="massive-text fw-900 glitch-text" data-text="EVENT HORIZON">事件视界</h2>
                        <div class="horizon-text-block">
                            <p class="fw-300">一旦越过这条界线，</p>
                            <p class="fw-700 italic-serif text-xl">连光都无法逃脱，时间将指向单一的方向——内核。</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 04.5：量子隧穿 (Quantum Tunnel) ====== -->
            <section class="scene scene-04-5-quantum" id="scene-quantum" data-scene-id="7">
                <div class="quantum-tunnel-wrapper">
                    <canvas id="quantum-canvas" class="quantum-canvas"></canvas>
                    <div class="quantum-overlay">
                        <h2 class="section-heading fw-900 text-center glitch-text" data-text="QUANTUM TUNNEL">量子隧穿</h2>
                        <p class="body-text text-center mt-3 max-w-800 mx-auto">
                            在量子力学中，粒子可以穿越本不可能通过的势垒。<br>
                            <span class="fw-600"
                                style="color: var(--color-quantum-cyan, #00fff9);">时间也是如此——它不总是线性的。波函数的坍缩在于观测的瞬间。</span>
                        </p>
                        <div class="quantum-metrics space-mono mt-5 pb-10">
                            <div class="metric-item">
                                <span class="metric-label">波函数坍缩概率</span>
                                <span class="metric-value" id="collapse-prob">0.000%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">隧穿系数</span>
                                <span class="metric-value" id="tunnel-coeff">0.000</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">观测干扰频率</span>
                                <span class="metric-value" id="planck-elapsed">0 Hz</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 05：原点/倒流 (Reverse / Origin) ====== -->
            <section class="scene scene-05-origin" id="scene-origin" data-scene-id="8">
                <div class="container">
                    <div class="origin-wrapper pt-10 pb-10">
                        <div class="noise-overlay"></div>
                        <h2 class="section-heading text-vertical">
                            <span class="char-stack">逆</span>
                            <span class="char-stack">向</span>
                            <span class="char-stack">流</span>
                            <span class="char-stack">动</span>
                        </h2>
                        <div class="origin-text-panel">
                            <p class="body-text lead">
                                在量子尺度下，时间是对称的。方程式允许过去影响未来，同样也允许未来影响过去。
                            </p>
                            <p class="body-text mt-3">
                                可是宏观世界的我们，被热力学第二定律死死定在了“不可逆”的十字架上。为了回到过去，我们发明了录像机、摄影、日记，乃至一切艺术。艺术，就是人类对抗熵增的唯一武器。
                            </p>
                            <button class="rewind-btn mt-6" id="btn-rewind">
                                <span class="rewind-icon">◄◄</span>
                                REWIND CONSCIOUSNESS
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 06：无尽回廊 (Infinite Loop) ====== -->
            <section class="scene scene-06-loop" id="scene-loop" data-scene-id="9">
                <div class="marquee-container">
                    <div class="marquee-track" id="marquee-1">
                        <span class="marquee-text">TICK TOCK TICK TOCK THE CLOCK IS MELTING</span>
                        <span class="marquee-text">TICK TOCK TICK TOCK THE CLOCK IS MELTING</span>
                        <span class="marquee-text">TICK TOCK TICK TOCK THE CLOCK IS MELTING</span>
                    </div>
                    <div class="marquee-track marquee-reverse" id="marquee-2">
                        <span class="marquee-text">ECHOES IN THE VOID ECHOES IN THE VOID</span>
                        <span class="marquee-text">ECHOES IN THE VOID ECHOES IN THE VOID</span>
                        <span class="marquee-text">ECHOES IN THE VOID ECHOES IN THE VOID</span>
                    </div>
                    <div class="marquee-track" id="marquee-3">
                        <span class="marquee-text">WAKE UP WAKE UP WAKE UP WAKE UP WAKE UP</span>
                        <span class="marquee-text">WAKE UP WAKE UP WAKE UP WAKE UP WAKE UP</span>
                        <span class="marquee-text">WAKE UP WAKE UP WAKE UP WAKE UP WAKE UP</span>
                    </div>
                    <div class="marquee-track marquee-reverse" id="marquee-4">
                        <span class="marquee-text">无限的延伸 没有起点 也没有终点 无限的延伸</span>
                        <span class="marquee-text">无限的延伸 没有起点 也没有终点 无限的延伸</span>
                        <span class="marquee-text">无限的延伸 没有起点 也没有终点 无限的延伸</span>
                    </div>
                </div>
                <div class="spacer-vh-50" style="height: 50vh;"></div>
            </section>

            <!-- ====== 场景 06.5：达利融化钟 (Persistence of Memory) ====== -->
            <section class="scene scene-06-5-dali" id="scene-dali" data-scene-id="10">
                <div class="container container-center">
                    <div class="dali-text text-center mb-5">
                        <blockquote class="dali-quote split-lines text-glow fw-300">
                            "时间的坚硬是人类最大的幻觉。<br>
                            在梦中，在记忆里，在爱因斯坦的方程式中——<br>
                            它一直在融化。"
                        </blockquote>
                        <div class="dali-cite space-mono mt-4">— 受萨尔瓦多·达利《记忆的永恒》启发</div>
                    </div>
                    <div class="dali-clock-stage" id="dali-container">
                        <canvas id="dali-canvas"></canvas>
                    </div>
                </div>
            </section>

            <!-- ====== 场景 07：尾声 (Epilogue) ====== -->
            <section class="scene scene-07-epilogue" id="scene-epilogue" data-scene-id="11">
                <div class="container container-center text-center">
                    <div class="fingerprint-wrapper"
                        style="position: relative; width: 300px; height: 300px; margin: 0 auto; margin-bottom: 2rem;">
                        <canvas id="fingerprint-canvas"
                            style="position: absolute; top:0; left:0; width:100%; height:100%;"></canvas>
                    </div>
                    <h2 class="final-text split-chars fw-200">
                        你浪费了生活中的 <span id="time-wasted" class="fw-700 italic-serif text-glow">0</span> 秒<br>
                        来观察时间的流逝。
                    </h2>
                    <p class="caption mt-2 text-gray-500">
                        "The only reason for time is so that everything doesn't happen at once."<br>— Albert Einstein
                    </p>
                    <p class="caption mt-1 text-gray-500">此图案为你独一无二的「时间漫游指纹」</p>
                    <button class="btn-refresh mt-6" onclick="window.scrollTo(0, 0); location.reload();">
                        <span class="btn-text">重新陷入梦境</span>
                    </button>
                </div>
                <div class="footer-credits">
                    <p>Designed and generated for extreme aesthetic demands.</p>
                    <p>WebGL • Web Audio API • GSAP • Canvas 2D • Vanilla JS</p>
                </div>
            </section>

        </div> <!-- /smooth-content -->
    </div> <!-- /smooth-wrapper -->

    <div class="static-noise"></div>

    <!-- 7. 外部依赖项：采用 CDN 引入 GSAP 相关高级插件用于重型动画 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/CustomEase.min.js"></script>
    <!-- WebGL 辅助库 twgl.js 以简化着色器编译与缓冲区管理 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twgl.js/5.3.1/twgl.min.js"></script>

    <!-- 8. 模块化脚本接入 -->
    <!-- 先引入音频与 WebGL，特效引擎，再引入主控 JS -->
    <script src="effects.js"></script>
    <script src="audio.js"></script>
    <script src="canvas.js"></script>
    <script src="main.js"></script>
</body>

</html>